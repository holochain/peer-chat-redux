{"version":3,"sources":["components/UserHeader/index.module.css","components/UserList/index.module.css","components/Message/index.module.css","components/CreateMessageForm/index.module.css","components/RoomList/index.module.css","components/RoomHeader/index.module.css","components/CreateRoomForm/index.module.css","components/WelcomeScreen/index.module.css","components/JoinRoomScreen/index.module.css","components/RegisterScreen/index.module.css","components/UserHeader/index.js","components/UserList/index.js","components/Message/index.js","components/MessageList/index.js","components/CreateMessageForm/index.js","components/RoomList/index.js","components/RoomHeader/index.js","components/CreateRoomForm/index.js","components/WelcomeScreen/index.js","components/JoinRoomScreen/index.js","components/RegisterScreen/index.js","index.js","components/MessageList/index.module.css"],"names":["module","exports","component","pulse","hint","online","UserHeader","_ref","_ref$user","user","react_default","a","createElement","className","style","src","avatarURL","length","name","id","concat","substring","UserList","room","users","current","map","key","avatar_url","alt","Message","message","profile","sender","timestamp","date","Date","minutes","getMinutes","getHours","time","createdAt","Linkify_default","properties","target","text","emptyList","empty","role","aria-label","MessageList","_ref$messages","messages","createConvo","sort","b","CreateMessageForm","_ref$state","state","_ref$state$room","_ref$actions","actions","sendMessage","runCommand","getMessages","onSubmit","e","preventDefault","value","trim","startsWith","slice","roomId","placeholder","type","xlinkHref","onClick","RoomList","_ref$rooms","rooms","messageKeys","Object","keys","latestMessage","pop","firstUser","find","x","disabled","joinRoom","match","isPrivate","replace","getRooms","RoomHeader","sidebarOpen","userListOpen","setSidebar","setUserList","CreateRoomForm","submit","WelcomeScreen","viewBox","d","JoinRoomScreen","RegisterScreen","registerUser","URL","window","location","host","DNA","View","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","hClient","holochainConnection","holochainclient","url","dnaHash","then","holoClient","connect","connected","innerWidth","initializeHolochain","result","JSON","parse","Ok","console","log","setUser","address","setState","setRoom","getRoomMembers","scrollToEnd","makeHolochainCall","stream_address","forEach","getUserProfile","objectSpread","_ref2","message_type","Math","floor","now","payload","meta","setTimeout","roomMessages","_ref3","entry","author","defineProperty","createRoom","options","roomSpec","description","initial_members","userId","agent_address","_ref4","private","public","_ref5","elem","document","querySelector","scrollTop","callString","params","callback","_ref6","_this$state","_this$actions","data-open","UserHeader_UserHeader","RoomList_RoomList","CreateRoomForm_CreateRoomForm","RoomHeader_RoomHeader","MessageList_MessageList","CreateMessageForm_CreateMessageForm","UserList_UserList","JoinRoomScreen_JoinRoomScreen","RegisterScreen_RegisterScreen","WelcomeScreen_WelcomeScreen","React","Component","ReactDOM","render","src_View"],"mappings":"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","file":"static/js/main.dc473ff8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"UserHeader_component__rj8qI\",\"pulse\":\"UserHeader_pulse__1JTWy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"UserList_component__16vRx\",\"hint\":\"UserList_hint__2HFI1\",\"online\":\"UserList_online__77icn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Message_component__uFnsT\",\"online\":\"Message_online__2LvZ5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"CreateMessageForm_component__1S2Mh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"RoomList_component__3gqws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"RoomHeader_component__2nJEu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"CreateRoomForm_component__2ntjX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"WelcomeScreen_component__gwmZm\",\"pulse\":\"WelcomeScreen_pulse__2Lcdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"JoinRoomScreen_component__2RJNe\",\"pulse\":\"JoinRoomScreen_pulse__2XhWX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"RegisterScreen_component__33BRB\",\"pulse\":\"RegisterScreen_pulse__1zg-s\"};","import React from 'react'\nimport style from './index.module.css'\n\nconst placeholder =\n  'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n\nexport const UserHeader = ({ user = {} }) => (\n  <header className={style.component}>\n    <img src={(user.avatarURL && user.avatarURL.length > 0) || placeholder} />\n    <div>\n      <h3>{user.name}</h3>\n      <h5>{user.id && `@${user.id.substring(0, 15)}`}</h5>\n    </div>\n  </header>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const UserList = ({ room, current, users }) => (\n  <ul className={style.component}>\n    {room.users.map(user => (\n      <li\n        key={user}\n      >\n        <img src={users[user] ? users[user].avatar_url : ''} alt={users[user] ? users[user].name[0] : ''} />\n        <p>{users[user] ? users[user].name : '?'}</p>\n        <h5>&nbsp;| {user && `@${user.substring(0, 15)}`}</h5>\n      </li>\n    ))}\n  </ul>\n)\n","import React from 'react'\nimport style from './index.module.css'\nimport Linkify from 'react-linkify'\n\nconst time = timestamp => {\n  const date = new Date(timestamp * 1000)\n  const minutes = date.getMinutes()\n  return `${date.getHours()}:${minutes < 10 ? '0' + minutes : minutes}`\n}\n\nexport const Message = ({ user, users }) => message => {\n  const profile = users[message.sender] || { name: '?', avatar_url: '' }\n  return message.sender ? (\n    <li key={message.id} className={style.component}>\n      <img\n        src={profile.avatar_url}\n        alt={profile.name[0]}\n      />\n      <div>\n        <span>\n          {`${profile.name} | ${time(message.createdAt)}`}</span>\n        <p>\n          <Linkify properties={{ target: '_blank' }}>{message.text}</Linkify>\n        </p>\n      </div>\n    </li>\n  ) : null\n}\n","import React from 'react'\nimport style from './index.module.css'\nimport { Message } from '../Message'\n\nconst emptyList = (\n  <div className={style.empty}>\n    <span role='img' aria-label='post'>\n      üìù\n    </span>\n    <h2>No Messages Yet</h2>\n    <p>Be the first to post in this room!</p>\n  </div>\n)\n\nexport const MessageList = ({ messages = [], user, users, createConvo }) => (\n  <ul id='messages' className={style.component}>\n    {\n      messages.length > 0 ? (\n        <wrapper->\n          {\n            messages\n              .sort((a, b) => { return b.createdAt - a.createdAt })\n              .map(message => Message({ user, createConvo, users })(message))\n          }\n        </wrapper->\n      ) : (\n        emptyList\n      )\n    }\n  </ul>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const CreateMessageForm = ({\n  state: { user = {}, room = {}, message = '' },\n  actions: { sendMessage, runCommand, getMessages }\n}) =>\n  room.id ? (\n    <form\n      className={style.component}\n      onSubmit={e => {\n        e.preventDefault()\n\n        const message = e.target[0].value.trim()\n\n        if (message.length === 0) {\n          return\n        }\n\n        e.target[0].value = ''\n\n        message.startsWith('/')\n          ? runCommand(message.slice(1))\n          : sendMessage({\n            text: message,\n            roomId: room.id\n          })\n      }}\n    >\n      <input\n        placeholder='Type a Message..'\n      />\n      <button type='submit'>\n        <svg>\n          <use xlinkHref='index.svg#send' />\n        </svg>\n      </button>\n      <button type='submit' onClick={() => getMessages(room.id)}>\n        <img src='refresh.svg' />\n      </button>\n    </form>\n  ) : null\n","import React from 'react'\nimport style from './index.module.css'\n\nconst Icon = id => (\n  <svg>\n    <use xlinkHref={`index.svg#${id}`} />\n  </svg>\n)\n\nexport const RoomList = ({\n  rooms = [],\n  user,\n  messages,\n  current,\n  actions\n}) => (\n  <ul className={style.component}>\n    {rooms.map(room => {\n      const messageKeys = Object.keys(messages[room.id] || {})\n      const latestMessage =\n        messageKeys.length > 0 && messages[room.id][messageKeys.pop()]\n      const firstUser = room.users.find(x => x.id !== user.id)\n      return (\n        <li\n          key={room.id}\n          disabled={room.id === current.id}\n          onClick={e => actions.joinRoom(room)}\n        >\n          {room.name.match(user.id) && firstUser ? (\n            <img src={firstUser.avatarURL} alt={firstUser.id} />\n          ) : (\n            Icon(room.isPrivate ? 'lock' : 'public')\n          )}\n          <col->\n            <p>{room.name.replace(user.id, '')}</p>\n            <span>{latestMessage && latestMessage.text}</span>\n          </col->\n        </li>\n      )\n    })}\n    <li onClick={actions.getRooms}>\n      <input type='image' alt='refresh' src={`refresh.svg`} />\n    </li>\n  </ul>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const RoomHeader = ({\n  state: { room, user, sidebarOpen, userListOpen },\n  actions: { setSidebar, setUserList }\n}) => (\n  <header className={style.component}>\n    <button onClick={e => setSidebar(!sidebarOpen)}>\n      <svg>\n        <use xlinkHref='index.svg#menu' />\n      </svg>\n    </button>\n    <h1>{room.name && room.name.replace(user.id, '')}</h1>\n    {room.users && (\n      <div onClick={e => setUserList(!userListOpen)}>\n        <span>{room.users.length}</span>\n        <svg>\n          <use xlinkHref='index.svg#members' />\n        </svg>\n      </div>\n    )}\n  </header>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const CreateRoomForm = ({ submit }) => (\n  <form\n    className={style.component}\n    onSubmit={e => {\n      e.preventDefault()\n\n      const name = e.target[0].value\n\n      if (name.length === 0) {\n        return\n      }\n\n      submit({\n        name\n      })\n      e.target[0].value = ''\n    }}\n  >\n    <input placeholder='Create a Room' />\n    <button type='submit'>\n      <svg>\n        <use xlinkHref='index.svg#add' />\n      </svg>\n    </button>\n  </form>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const WelcomeScreen = ({ message }) => (\n  <section>\n    <div className={style.component}>\n      <span role='img' aria-label='post'>\n        <svg viewBox='0 0 59 80'>\n          <g>\n            <path d='M48.417 49.444L38.585 73.229 36.012 71.394 41.802 56.726 31.211 59.519C31.211 59.519 26.022 42.42 26.513 30.837 26.218 22.744 27.644 16.96 30.167 13.6 34.274 8.408 42.099 3.953 49.793 7.645 54.701 9.869 57.658 13.889 58.107 17.824 59.479 34.859 38.498 41.817 38.498 41.817L38.085 38.191C38.085 38.191 44.945 35.464 49.105 29.553 53.266 23.643 51.245 15.88 46.569 14.464 42.061 13.577 37.34 18.757 36.516 27.966 34.721 41.776 39.393 52.006 39.393 52.006L48.417 49.444M0 62.396L15.402 74.372 16.522 71.783 8.26 65.71 16.853 63.305C16.853 63.305 10.998 47.535 10.597 32.251 10.229 27.354 9.896 11.684 15.924 8.975 16.976 7.213 18.743 5.903 18.743 5.903 18.743 5.903 3.467 4.584 4.184 32.453 5.706 51.166 9.451 59.821 9.451 59.821L0 62.396' />\n            <path d='M29.91,61.761 L38.969,59.263 L30.045,80 L11.998,66.538 L19.098,64.644 C19.098,64.644 3.276,20.694 21.128,5.095 C32.325,-3.789 43.164,3.999 42.965,4.872 C40.203,4.812 37.842,5.844 37.842,5.844 C37.842,5.844 31.789,3.265 27.475,12.503 C23.719,20.705 22.048,34.474 29.91,61.761' />\n            <path d='M41.806,17.606 C42.599,24.356 38.244,27.206 38.244,27.206 L37.819,30.659 C37.819,30.659 47.709,25.549 45.669,15.819 C44.566,15.913 42.212,17.242 41.806,17.606' />\n          </g>\n        </svg>\n      </span>\n      <p>\n        {message}\n      </p>\n    </div>\n  </section>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const JoinRoomScreen = () => (\n  <section>\n    <div className={style.component}>\n      <span role='img' aria-label='post'>\n        <svg viewBox='0 0 59 80'>\n          <g>\n            <path d='M48.417 49.444L38.585 73.229 36.012 71.394 41.802 56.726 31.211 59.519C31.211 59.519 26.022 42.42 26.513 30.837 26.218 22.744 27.644 16.96 30.167 13.6 34.274 8.408 42.099 3.953 49.793 7.645 54.701 9.869 57.658 13.889 58.107 17.824 59.479 34.859 38.498 41.817 38.498 41.817L38.085 38.191C38.085 38.191 44.945 35.464 49.105 29.553 53.266 23.643 51.245 15.88 46.569 14.464 42.061 13.577 37.34 18.757 36.516 27.966 34.721 41.776 39.393 52.006 39.393 52.006L48.417 49.444M0 62.396L15.402 74.372 16.522 71.783 8.26 65.71 16.853 63.305C16.853 63.305 10.998 47.535 10.597 32.251 10.229 27.354 9.896 11.684 15.924 8.975 16.976 7.213 18.743 5.903 18.743 5.903 18.743 5.903 3.467 4.584 4.184 32.453 5.706 51.166 9.451 59.821 9.451 59.821L0 62.396' />\n            <path d='M29.91,61.761 L38.969,59.263 L30.045,80 L11.998,66.538 L19.098,64.644 C19.098,64.644 3.276,20.694 21.128,5.095 C32.325,-3.789 43.164,3.999 42.965,4.872 C40.203,4.812 37.842,5.844 37.842,5.844 C37.842,5.844 31.789,3.265 27.475,12.503 C23.719,20.705 22.048,34.474 29.91,61.761' />\n            <path d='M41.806,17.606 C42.599,24.356 38.244,27.206 38.244,27.206 L37.819,30.659 C37.819,30.659 47.709,25.549 45.669,15.819 C44.566,15.913 42.212,17.242 41.806,17.606' />\n          </g>\n        </svg>\n      </span>\n      <p>\n        Join a room from the left or create a new room using the field on the bottom left\n      </p>\n    </div>\n  </section>\n)\n","import React from 'react'\nimport style from './index.module.css'\n\nexport const RegisterScreen = ({ registerUser }) => (\n  <section>\n    <div className={style.component}>\n      <span role='img' aria-label='post'>\n        <svg viewBox='0 0 59 80'>\n          <g>\n            <path d='M48.417 49.444L38.585 73.229 36.012 71.394 41.802 56.726 31.211 59.519C31.211 59.519 26.022 42.42 26.513 30.837 26.218 22.744 27.644 16.96 30.167 13.6 34.274 8.408 42.099 3.953 49.793 7.645 54.701 9.869 57.658 13.889 58.107 17.824 59.479 34.859 38.498 41.817 38.498 41.817L38.085 38.191C38.085 38.191 44.945 35.464 49.105 29.553 53.266 23.643 51.245 15.88 46.569 14.464 42.061 13.577 37.34 18.757 36.516 27.966 34.721 41.776 39.393 52.006 39.393 52.006L48.417 49.444M0 62.396L15.402 74.372 16.522 71.783 8.26 65.71 16.853 63.305C16.853 63.305 10.998 47.535 10.597 32.251 10.229 27.354 9.896 11.684 15.924 8.975 16.976 7.213 18.743 5.903 18.743 5.903 18.743 5.903 3.467 4.584 4.184 32.453 5.706 51.166 9.451 59.821 9.451 59.821L0 62.396' />\n            <path d='M29.91,61.761 L38.969,59.263 L30.045,80 L11.998,66.538 L19.098,64.644 C19.098,64.644 3.276,20.694 21.128,5.095 C32.325,-3.789 43.164,3.999 42.965,4.872 C40.203,4.812 37.842,5.844 37.842,5.844 C37.842,5.844 31.789,3.265 27.475,12.503 C23.719,20.705 22.048,34.474 29.91,61.761' />\n            <path d='M41.806,17.606 C42.599,24.356 38.244,27.206 38.244,27.206 L37.819,30.659 C37.819,30.659 47.709,25.549 45.669,15.819 C44.566,15.913 42.212,17.242 41.806,17.606' />\n          </g>\n        </svg>\n      </span>\n      <p>\n        It looks like this is the first time using chat with this agent.\n        Register a handle and avatar for this agent ID.\n      </p>\n      <form\n        onSubmit={e => {\n          e.preventDefault()\n\n          const name = e.target[0].value\n          const avatarURL = e.target[1].value\n\n          if (name.length === 0) {\n            return\n          }\n          registerUser({\n            name,\n            avatarURL\n          })\n        }}\n      >\n        <input placeholder='input @handle' />\n        <br />\n        <input placeholder='paste url for avatar image' />\n        <br />\n        <button type='submit'>\n          Register!\n        </button>\n      </form>\n    </div>\n  </section>\n)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport * as holochainclient from '@holochain/hc-web-client'\nimport * as hClient from '@holo-host/hclient'\n\nimport { UserHeader } from './components/UserHeader'\nimport { UserList } from './components/UserList'\nimport { MessageList } from './components/MessageList'\nimport { CreateMessageForm } from './components/CreateMessageForm'\nimport { RoomList } from './components/RoomList'\nimport { RoomHeader } from './components/RoomHeader'\nimport { CreateRoomForm } from './components/CreateRoomForm'\nimport { WelcomeScreen } from './components/WelcomeScreen'\nimport { JoinRoomScreen } from './components/JoinRoomScreen'\nimport { RegisterScreen } from './components/RegisterScreen'\n\n// --------------------------------------\n// Application\n// --------------------------------------\n\n// where to look for the conductor\n// const PORT = 3000\n// const URL = 'ws://localhost:'+PORT+\"/\" // include this in the makeWebClient optionals if not using intrceptr ui server\nconst URL = 'ws://' + window.location.host // use this for intrceptr server\n// hardcoded app DNA\nconst DNA = 'Qmd3zeMA5S5YWQ4QAZ6JTBPEEAEJwGmoSxkYn6y2Pm4PNV'\n\nclass View extends React.Component {\n  constructor (props) {\n    super(props)\n\n    hClient.installLoginDialog()\n    const holochainConnection = hClient.makeWebClient(holochainclient, 'basic-chat', { url:URL, dnaHash:DNA })\n      .then(holoClient => holoClient.connect())\n\n    this.state = {\n      holochainConnection: holochainConnection,\n      connected: false,\n      user: {},\n      users: {},\n      room: {},\n      rooms: [],\n      messages: {},\n      sidebarOpen: false,\n      userListOpen: window.innerWidth > 1000\n    }\n\n    this.actions = {\n\n      // --------------------------------------\n      // Holochain\n      // --------------------------------------  \n\n      initializeHolochain: () => {\n        this.state.holochainConnection.then(({ call }) => {\n          call('holo-chat/chat/get_my_member_profile')({}).then((result) => {\n            const profile = JSON.parse(result).Ok\n            if (profile) {\n              console.log('registration user found with profile:', profile)\n              this.actions.setUser({ id: profile.address, name: profile.name, avatarURL: profile.avatar_url })\n            } else {\n              console.log('User has not registered a profile. Complete the form to proceed')\n            }\n            this.setState({ connected: true })\n          })\n        })\n      },\n\n      // --------------------------------------\n      // UI\n      // --------------------------------------\n\n      setSidebar: sidebarOpen => this.setState({ sidebarOpen }),\n      setUserList: userListOpen => this.setState({ userListOpen }),\n\n      // --------------------------------------\n      // User\n      // --------------------------------------\n\n      setUser: user => {\n        this.setState({ user })\n        this.actions.getRooms()\n      },\n\n      // --------------------------------------\n      // Room\n      // --------------------------------------\n\n      setRoom: room => {\n        this.setState({ room, sidebarOpen: false })\n        this.actions.getMessages(room.id)\n        this.actions.getRoomMembers(room.id)\n        this.actions.scrollToEnd()\n      },\n\n      joinRoom: room => {\n        console.log('joining room')\n        this.actions.setRoom(room)\n        this.makeHolochainCall('holo-chat/chat/join_stream', { stream_address: room.id }, (result) => {\n          console.log('joined room', result)\n        })\n      },\n\n      getRoomMembers: roomId => {\n        this.makeHolochainCall('holo-chat/chat/get_members', {\n          stream_address: roomId\n        }, (result) => {\n          console.log('retrieved members', result)\n          const users = result.Ok\n          users.forEach(address => {\n            this.actions.getUserProfile(address)\n          })\n          this.setState({\n            room: { ...this.state.room, users }\n          })\n        })\n      },\n\n      sendMessage: ({ text, roomId }) => {\n        const message = {\n          message_type: 'text',\n          timestamp: Math.floor(Date.now() / 1000),\n          payload: text,\n          meta: ''\n        }\n        this.makeHolochainCall('holo-chat/chat/post_message', {\n          stream_address: roomId,\n          message\n        }, (result) => {\n          console.log('message posted', result)\n          setTimeout(() => this.actions.getMessages(roomId), 1000) // hack for now\n          this.actions.scrollToEnd()\n        })\n      },\n\n      getMessages: (roomId) => {\n        this.makeHolochainCall('holo-chat/chat/get_messages', { address: roomId }, (result) => {\n          console.log('retrieved messages', result)\n\n          const roomMessages = result.Ok.map(({ address, entry }) => ({\n            text: entry.payload,\n            sender: entry.author,\n            createdAt: entry.timestamp,\n            id: address\n          }))\n\n          this.setState({\n            messages: { ...this.state.messages, [roomId]: roomMessages }\n          })\n        })\n      },\n\n      createRoom: options => {\n        console.log(options)\n        const roomSpec = {\n          name: options.name,\n          description: '',\n          initial_members: []\n        }\n        this.makeHolochainCall('holo-chat/chat/create_stream', roomSpec, (result) => {\n          console.log('created room', result)\n          this.actions.setRoom({\n            id: result.Ok,\n            name: options.name,\n            users: []\n          })\n          this.actions.getRooms()\n        })\n      },\n\n      getUserProfile: userId => {\n        this.makeHolochainCall('holo-chat/chat/get_member_profile', { agent_address: userId }, (result) => {\n          console.log('retrieved profile', result)\n          this.setState({\n            users: { ...this.state.users, [userId]: result.Ok }\n          })\n        })\n      },\n\n      getRooms: () => {\n        this.makeHolochainCall('holo-chat/chat/get_all_public_streams', {}, (result) => {\n          console.log('retrieved public rooms', result)\n          let rooms = result.Ok.map(({ address, entry }) => {\n            return {\n              id: address,\n              private: !entry.public,\n              name: entry.name,\n              users: []\n            }\n          })\n          this.setState({\n            rooms\n          })\n        })\n      },\n\n      registerUser: ({ name, avatarURL }) => {\n        this.makeHolochainCall('holo-chat/chat/register', { name, avatar_url: avatarURL }, result => {\n          console.log('registered user', result)\n          this.actions.setUser({ id: result.Ok, name, avatarURL })\n        })\n      },\n\n      scrollToEnd: e =>\n        setTimeout(() => {\n          const elem = document.querySelector('#messages')\n          elem && (elem.scrollTop = 100000)\n        }, 0)\n\n    }\n\n    hClient.triggerLoginPrompt().then(() => {\n      console.log('Holo login complete')\n      this.actions.initializeHolochain()\n    })\n\n  }\n\n\n  makeHolochainCall (callString, params, callback) {\n    this.state.holochainConnection.then(({ call }) => {\n      call(callString)(params).then((result) => callback(JSON.parse(result)))\n    })\n  }\n\n  render () {\n    const {\n      user,\n      users,\n      room,\n      rooms,\n      messages,\n      sidebarOpen,\n      userListOpen,\n      connected\n    } = this.state\n    const { createRoom, registerUser } = this.actions\n\n    return (\n      <main>\n        <aside data-open={sidebarOpen}>\n          <UserHeader user={user} />\n          <RoomList\n            user={user}\n            rooms={rooms}\n            messages={messages}\n            current={room}\n            actions={this.actions}\n          />\n          {user.id && <CreateRoomForm submit={createRoom} />}\n        </aside>\n        <section>\n          <RoomHeader state={this.state} actions={this.actions} />\n          {room.id ? (\n            <row->\n              <col->\n                <MessageList\n                  user={user}\n                  users={users}\n                  messages={messages[room.id]}\n                />\n                <CreateMessageForm state={this.state} actions={this.actions} />\n              </col->\n              {userListOpen && (\n                <UserList\n                  room={room}\n                  current={user.id}\n                  users={users}\n                />\n              )}\n            </row->\n          ) : connected ? (\n            user.id ? <JoinRoomScreen /> : <RegisterScreen registerUser={registerUser} />\n          ) : (\n            <WelcomeScreen message='Connecting to Holochain... Make sure the conductor is running and try refreshing the page' />\n          )}\n        </section>\n      </main>\n    )\n  }\n}\n\nReactDOM.render(<View />, document.querySelector('#root'))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"MessageList_component__1p7Ty\",\"empty\":\"MessageList_empty__B_0RZ\"};"],"sourceRoot":""}